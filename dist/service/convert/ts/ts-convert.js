"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TsConvert = void 0;
const ts_entity_service_1 = require("src/service/convert/ts/ts-entity-service");
const ts_service_1 = require("src/service/convert/ts/ts-service");
const file_service_1 = require("src/service/file-service");
class TsConvert {
    constructor({ filePath, folderPath }) {
        this._filePath = filePath;
        this._folderPath = folderPath;
    }
    async convert() {
        const node = await ts_service_1.tsService.parseFile(file_service_1.fileService.joinPaths(this._folderPath, this._filePath));
        const cleanRelativeFilePath = file_service_1.fileService.cleanupPath(this._filePath);
        const entities = ts_entity_service_1.tsEntityService.extractEntities({ node, filePath: cleanRelativeFilePath });
        return entities;
    }
}
exports.TsConvert = TsConvert;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHMtY29udmVydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlL2NvbnZlcnQvdHMvdHMtY29udmVydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSxnRkFBMEU7QUFDMUUsa0VBQTZEO0FBQzdELDJEQUFzRDtBQUV0RCxNQUFhLFNBQVM7SUFJcEIsWUFBWSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQTRDO1FBQzVFLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFBO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFBO0lBQy9CLENBQUM7SUFFTSxLQUFLLENBQUMsT0FBTztRQUNsQixNQUFNLElBQUksR0FBRyxNQUFNLHNCQUFTLENBQUMsU0FBUyxDQUFDLDBCQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUE7UUFDL0YsTUFBTSxxQkFBcUIsR0FBRywwQkFBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDckUsTUFBTSxRQUFRLEdBQUcsbUNBQWUsQ0FBQyxlQUFlLENBQUMsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLHFCQUFxQixFQUFFLENBQUMsQ0FBQTtRQUUzRixPQUFPLFFBQVEsQ0FBQTtJQUNqQixDQUFDO0NBQ0Y7QUFoQkQsOEJBZ0JDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnc3JjL21vZGVsL2VudGl0eSdcbmltcG9ydCB7IENvbnZlcnRTdHJhdGVneSB9IGZyb20gJ3NyYy9zZXJ2aWNlL2NvbnZlcnQvY29udmVydC1zdHJhdGVneSdcbmltcG9ydCB7IHRzRW50aXR5U2VydmljZSB9IGZyb20gJ3NyYy9zZXJ2aWNlL2NvbnZlcnQvdHMvdHMtZW50aXR5LXNlcnZpY2UnXG5pbXBvcnQgeyB0c1NlcnZpY2UgfSBmcm9tICdzcmMvc2VydmljZS9jb252ZXJ0L3RzL3RzLXNlcnZpY2UnXG5pbXBvcnQgeyBmaWxlU2VydmljZSB9IGZyb20gJ3NyYy9zZXJ2aWNlL2ZpbGUtc2VydmljZSdcblxuZXhwb3J0IGNsYXNzIFRzQ29udmVydCBpbXBsZW1lbnRzIENvbnZlcnRTdHJhdGVneSB7XG4gIHByb3RlY3RlZCByZWFkb25seSBfZmlsZVBhdGg6IHN0cmluZ1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2ZvbGRlclBhdGg6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHsgZmlsZVBhdGgsIGZvbGRlclBhdGggfTogeyBmaWxlUGF0aDogc3RyaW5nOyBmb2xkZXJQYXRoOiBzdHJpbmcgfSkge1xuICAgIHRoaXMuX2ZpbGVQYXRoID0gZmlsZVBhdGhcbiAgICB0aGlzLl9mb2xkZXJQYXRoID0gZm9sZGVyUGF0aFxuICB9XG5cbiAgcHVibGljIGFzeW5jIGNvbnZlcnQoKTogUHJvbWlzZTxFbnRpdHlbXT4ge1xuICAgIGNvbnN0IG5vZGUgPSBhd2FpdCB0c1NlcnZpY2UucGFyc2VGaWxlKGZpbGVTZXJ2aWNlLmpvaW5QYXRocyh0aGlzLl9mb2xkZXJQYXRoLCB0aGlzLl9maWxlUGF0aCkpXG4gICAgY29uc3QgY2xlYW5SZWxhdGl2ZUZpbGVQYXRoID0gZmlsZVNlcnZpY2UuY2xlYW51cFBhdGgodGhpcy5fZmlsZVBhdGgpXG4gICAgY29uc3QgZW50aXRpZXMgPSB0c0VudGl0eVNlcnZpY2UuZXh0cmFjdEVudGl0aWVzKHsgbm9kZSwgZmlsZVBhdGg6IGNsZWFuUmVsYXRpdmVGaWxlUGF0aCB9KVxuXG4gICAgcmV0dXJuIGVudGl0aWVzXG4gIH1cbn1cbiJdfQ==