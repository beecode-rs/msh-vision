"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.tsParserService = void 0;
const reference_type_1 = require("src/enum/reference-type");
const property_1 = require("src/model/property");
const reference_1 = require("src/model/reference");
const ts_1 = __importDefault(require("src/module/ts"));
const ts_parser_import_1 = require("src/service/convert/ts/parser/ts-parser-import");
const logger_1 = require("src/util/logger");
const self = {
    isExported: (modifiers) => {
        if (!modifiers)
            return false;
        return !!modifiers.find((m) => m.kind === ts_1.default.SyntaxKind.ExportKeyword);
    },
    isAbstract: (modifiers) => {
        if (!modifiers)
            return false;
        return !!modifiers.find((m) => m.kind === ts_1.default.SyntaxKind.AbstractKeyword);
    },
    accessLevel: (modifiers) => {
        if (!modifiers)
            return property_1.PropertyAccessLevelType.NO_MODIFIER;
        if (modifiers.find((m) => m.kind === ts_1.default.SyntaxKind.PublicKeyword))
            return property_1.PropertyAccessLevelType.PUBLIC;
        if (modifiers.find((m) => m.kind === ts_1.default.SyntaxKind.PrivateKeyword))
            return property_1.PropertyAccessLevelType.PRIVATE;
        if (modifiers.find((m) => m.kind === ts_1.default.SyntaxKind.ProtectedKeyword))
            return property_1.PropertyAccessLevelType.PROTECTED;
        return property_1.PropertyAccessLevelType.NO_MODIFIER;
    },
    nameFromDeclarationsList: (declarationList) => {
        if (!declarationList?.declarations)
            return;
        const decl = declarationList.declarations.find((d) => d.name);
        if (!decl)
            return;
        return {
            name: decl.name['escapedText'],
            declaration: decl,
        };
    },
    checkIfThereAreAnyExports: ({ parsedSource }) => {
        return !!parsedSource.statements.find((s) => self._isViableExportableStatementKind(s.kind) && self.isExported(s.modifiers));
    },
    _isViableExportableStatementKind: (kind) => {
        return [
            ts_1.default.SyntaxKind.TypeAliasDeclaration,
            ts_1.default.SyntaxKind.ClassDeclaration,
            ts_1.default.SyntaxKind.InterfaceDeclaration,
            ts_1.default.SyntaxKind.VariableDeclaration,
            ts_1.default.SyntaxKind.VariableStatement,
            ts_1.default.SyntaxKind.VariableDeclarationList,
        ].includes(kind);
    },
    findClassRelations: ({ statement, parsedSource, inProjectPath, }) => {
        const extendImplements = (statement['heritageClauses'] ?? [])
            .map((heritage) => {
            const type = heritage.getText(parsedSource).split(' ')[0];
            return (heritage.types ?? []).map((t) => ({ type, name: t.expression.escapedText }));
        })
            .flat();
        if (extendImplements.length === 0)
            return [];
        const fileImports = parsedSource.statements
            .map((statement) => new ts_parser_import_1.TsParserImport({ statement, inProjectPath }).parse())
            .flat();
        return extendImplements
            .map((ei) => {
            const fileImport = fileImports.find((fi) => {
                return fi.name === ei.name;
            });
            if (!fileImport) {
                logger_1.logger.warn(`Import not found for ${JSON.stringify(ei)}`);
                return;
            }
            return new reference_1.Reference({
                name: ei.name,
                type: ei.type === 'implements' ? reference_type_1.ReferenceType.IMPLEMENTATION : reference_type_1.ReferenceType.INHERITANCE,
                inProjectPath: fileImport.inProjectPath,
            });
        })
            .filter(Boolean);
    },
};
exports.tsParserService = self;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHMtcGFyc2VyLXNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2VydmljZS9jb252ZXJ0L3RzL3RzLXBhcnNlci1zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDREQUF1RDtBQUN2RCxpREFBNEQ7QUFDNUQsbURBQStDO0FBQy9DLHVEQUE4QjtBQUM5QixxRkFBK0U7QUFDL0UsNENBQXdDO0FBRXhDLE1BQU0sSUFBSSxHQUFHO0lBQ1gsVUFBVSxFQUFFLENBQUMsU0FBNkIsRUFBVyxFQUFFO1FBQ3JELElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTyxLQUFLLENBQUE7UUFDNUIsT0FBTyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxZQUFFLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFDRCxVQUFVLEVBQUUsQ0FBQyxTQUE2QixFQUFXLEVBQUU7UUFDckQsSUFBSSxDQUFDLFNBQVM7WUFBRSxPQUFPLEtBQUssQ0FBQTtRQUM1QixPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLFlBQUUsQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLENBQUE7SUFDMUUsQ0FBQztJQUNELFdBQVcsRUFBRSxDQUFDLFNBQTZCLEVBQTJCLEVBQUU7UUFDdEUsSUFBSSxDQUFDLFNBQVM7WUFBRSxPQUFPLGtDQUF1QixDQUFDLFdBQVcsQ0FBQTtRQUMxRCxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssWUFBRSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7WUFBRSxPQUFPLGtDQUF1QixDQUFDLE1BQU0sQ0FBQTtRQUN4RyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssWUFBRSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUM7WUFBRSxPQUFPLGtDQUF1QixDQUFDLE9BQU8sQ0FBQTtRQUMxRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssWUFBRSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQztZQUFFLE9BQU8sa0NBQXVCLENBQUMsU0FBUyxDQUFBO1FBQzlHLE9BQU8sa0NBQXVCLENBQUMsV0FBVyxDQUFBO0lBQzVDLENBQUM7SUFFRCx3QkFBd0IsRUFBRSxDQUN4QixlQUEyQyxFQUN3QixFQUFFO1FBQ3JFLElBQUksQ0FBQyxlQUFlLEVBQUUsWUFBWTtZQUFFLE9BQU07UUFDMUMsTUFBTSxJQUFJLEdBQUcsZUFBZSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUM3RCxJQUFJLENBQUMsSUFBSTtZQUFFLE9BQU07UUFDakIsT0FBTztZQUNMLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUM5QixXQUFXLEVBQUUsSUFBSTtTQUNsQixDQUFBO0lBQ0gsQ0FBQztJQUNELHlCQUF5QixFQUFFLENBQUMsRUFBRSxZQUFZLEVBQW1DLEVBQVcsRUFBRTtRQUN4RixPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFBO0lBQzdILENBQUM7SUFDRCxnQ0FBZ0MsRUFBRSxDQUFDLElBQVksRUFBVyxFQUFFO1FBQzFELE9BQU87WUFDTCxZQUFFLENBQUMsVUFBVSxDQUFDLG9CQUFvQjtZQUNsQyxZQUFFLENBQUMsVUFBVSxDQUFDLGdCQUFnQjtZQUM5QixZQUFFLENBQUMsVUFBVSxDQUFDLG9CQUFvQjtZQUNsQyxZQUFFLENBQUMsVUFBVSxDQUFDLG1CQUFtQjtZQUNqQyxZQUFFLENBQUMsVUFBVSxDQUFDLGlCQUFpQjtZQUMvQixZQUFFLENBQUMsVUFBVSxDQUFDLHVCQUF1QjtTQUN0QyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNsQixDQUFDO0lBQ0Qsa0JBQWtCLEVBQUUsQ0FBQyxFQUNuQixTQUFTLEVBQ1QsWUFBWSxFQUNaLGFBQWEsR0FLZCxFQUFlLEVBQUU7UUFDaEIsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUMxRCxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUksR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtZQUN6RCxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ3RGLENBQUMsQ0FBQzthQUNELElBQUksRUFBd0QsQ0FBQTtRQUMvRCxJQUFJLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQUUsT0FBTyxFQUFFLENBQUE7UUFFNUMsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLFVBQVU7YUFDeEMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQyxJQUFJLGlDQUFjLENBQUMsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUM1RSxJQUFJLEVBQUUsQ0FBQTtRQUVULE9BQU8sZ0JBQWdCO2FBQ3BCLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ1YsTUFBTSxVQUFVLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFO2dCQUN6QyxPQUFPLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQTtZQUM1QixDQUFDLENBQUMsQ0FBQTtZQUNGLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ2YsZUFBTSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUE7Z0JBQ3pELE9BQU07YUFDUDtZQUNELE9BQU8sSUFBSSxxQkFBUyxDQUFDO2dCQUNuQixJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUk7Z0JBQ2IsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEtBQUssWUFBWSxDQUFDLENBQUMsQ0FBQyw4QkFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsOEJBQWEsQ0FBQyxXQUFXO2dCQUN6RixhQUFhLEVBQUUsVUFBVSxDQUFDLGFBQWE7YUFDeEMsQ0FBQyxDQUFBO1FBQ0osQ0FBQyxDQUFDO2FBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBZ0IsQ0FBQTtJQUNuQyxDQUFDO0NBQ0YsQ0FBQTtBQUVZLFFBQUEsZUFBZSxHQUFHLElBQUksQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlZmVyZW5jZVR5cGUgfSBmcm9tICdzcmMvZW51bS9yZWZlcmVuY2UtdHlwZSdcbmltcG9ydCB7IFByb3BlcnR5QWNjZXNzTGV2ZWxUeXBlIH0gZnJvbSAnc3JjL21vZGVsL3Byb3BlcnR5J1xuaW1wb3J0IHsgUmVmZXJlbmNlIH0gZnJvbSAnc3JjL21vZGVsL3JlZmVyZW5jZSdcbmltcG9ydCB0cyBmcm9tICdzcmMvbW9kdWxlL3RzJ1xuaW1wb3J0IHsgVHNQYXJzZXJJbXBvcnQgfSBmcm9tICdzcmMvc2VydmljZS9jb252ZXJ0L3RzL3BhcnNlci90cy1wYXJzZXItaW1wb3J0J1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnc3JjL3V0aWwvbG9nZ2VyJ1xuXG5jb25zdCBzZWxmID0ge1xuICBpc0V4cG9ydGVkOiAobW9kaWZpZXJzPzogdHMuTW9kaWZpZXJzQXJyYXkpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIW1vZGlmaWVycykgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuICEhbW9kaWZpZXJzLmZpbmQoKG0pID0+IG0ua2luZCA9PT0gdHMuU3ludGF4S2luZC5FeHBvcnRLZXl3b3JkKVxuICB9LFxuICBpc0Fic3RyYWN0OiAobW9kaWZpZXJzPzogdHMuTW9kaWZpZXJzQXJyYXkpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIW1vZGlmaWVycykgcmV0dXJuIGZhbHNlXG4gICAgcmV0dXJuICEhbW9kaWZpZXJzLmZpbmQoKG0pID0+IG0ua2luZCA9PT0gdHMuU3ludGF4S2luZC5BYnN0cmFjdEtleXdvcmQpXG4gIH0sXG4gIGFjY2Vzc0xldmVsOiAobW9kaWZpZXJzPzogdHMuTW9kaWZpZXJzQXJyYXkpOiBQcm9wZXJ0eUFjY2Vzc0xldmVsVHlwZSA9PiB7XG4gICAgaWYgKCFtb2RpZmllcnMpIHJldHVybiBQcm9wZXJ0eUFjY2Vzc0xldmVsVHlwZS5OT19NT0RJRklFUlxuICAgIGlmIChtb2RpZmllcnMuZmluZCgobSkgPT4gbS5raW5kID09PSB0cy5TeW50YXhLaW5kLlB1YmxpY0tleXdvcmQpKSByZXR1cm4gUHJvcGVydHlBY2Nlc3NMZXZlbFR5cGUuUFVCTElDXG4gICAgaWYgKG1vZGlmaWVycy5maW5kKChtKSA9PiBtLmtpbmQgPT09IHRzLlN5bnRheEtpbmQuUHJpdmF0ZUtleXdvcmQpKSByZXR1cm4gUHJvcGVydHlBY2Nlc3NMZXZlbFR5cGUuUFJJVkFURVxuICAgIGlmIChtb2RpZmllcnMuZmluZCgobSkgPT4gbS5raW5kID09PSB0cy5TeW50YXhLaW5kLlByb3RlY3RlZEtleXdvcmQpKSByZXR1cm4gUHJvcGVydHlBY2Nlc3NMZXZlbFR5cGUuUFJPVEVDVEVEXG4gICAgcmV0dXJuIFByb3BlcnR5QWNjZXNzTGV2ZWxUeXBlLk5PX01PRElGSUVSXG4gIH0sXG5cbiAgbmFtZUZyb21EZWNsYXJhdGlvbnNMaXN0OiAoXG4gICAgZGVjbGFyYXRpb25MaXN0OiB0cy5WYXJpYWJsZURlY2xhcmF0aW9uTGlzdFxuICApOiB7IG5hbWU6IHN0cmluZzsgZGVjbGFyYXRpb246IHRzLlZhcmlhYmxlRGVjbGFyYXRpb24gfSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgaWYgKCFkZWNsYXJhdGlvbkxpc3Q/LmRlY2xhcmF0aW9ucykgcmV0dXJuXG4gICAgY29uc3QgZGVjbCA9IGRlY2xhcmF0aW9uTGlzdC5kZWNsYXJhdGlvbnMuZmluZCgoZCkgPT4gZC5uYW1lKVxuICAgIGlmICghZGVjbCkgcmV0dXJuXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGRlY2wubmFtZVsnZXNjYXBlZFRleHQnXSxcbiAgICAgIGRlY2xhcmF0aW9uOiBkZWNsLFxuICAgIH1cbiAgfSxcbiAgY2hlY2tJZlRoZXJlQXJlQW55RXhwb3J0czogKHsgcGFyc2VkU291cmNlIH06IHsgcGFyc2VkU291cmNlOiB0cy5Tb3VyY2VGaWxlIH0pOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gISFwYXJzZWRTb3VyY2Uuc3RhdGVtZW50cy5maW5kKChzKSA9PiBzZWxmLl9pc1ZpYWJsZUV4cG9ydGFibGVTdGF0ZW1lbnRLaW5kKHMua2luZCkgJiYgc2VsZi5pc0V4cG9ydGVkKHMubW9kaWZpZXJzKSlcbiAgfSxcbiAgX2lzVmlhYmxlRXhwb3J0YWJsZVN0YXRlbWVudEtpbmQ6IChraW5kOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgdHMuU3ludGF4S2luZC5UeXBlQWxpYXNEZWNsYXJhdGlvbixcbiAgICAgIHRzLlN5bnRheEtpbmQuQ2xhc3NEZWNsYXJhdGlvbixcbiAgICAgIHRzLlN5bnRheEtpbmQuSW50ZXJmYWNlRGVjbGFyYXRpb24sXG4gICAgICB0cy5TeW50YXhLaW5kLlZhcmlhYmxlRGVjbGFyYXRpb24sXG4gICAgICB0cy5TeW50YXhLaW5kLlZhcmlhYmxlU3RhdGVtZW50LFxuICAgICAgdHMuU3ludGF4S2luZC5WYXJpYWJsZURlY2xhcmF0aW9uTGlzdCxcbiAgICBdLmluY2x1ZGVzKGtpbmQpXG4gIH0sXG4gIGZpbmRDbGFzc1JlbGF0aW9uczogKHtcbiAgICBzdGF0ZW1lbnQsXG4gICAgcGFyc2VkU291cmNlLFxuICAgIGluUHJvamVjdFBhdGgsXG4gIH06IHtcbiAgICBzdGF0ZW1lbnQ6IHRzLlN0YXRlbWVudFxuICAgIHBhcnNlZFNvdXJjZTogdHMuU291cmNlRmlsZVxuICAgIGluUHJvamVjdFBhdGg6IHN0cmluZ1xuICB9KTogUmVmZXJlbmNlW10gPT4ge1xuICAgIGNvbnN0IGV4dGVuZEltcGxlbWVudHMgPSAoc3RhdGVtZW50WydoZXJpdGFnZUNsYXVzZXMnXSA/PyBbXSlcbiAgICAgIC5tYXAoKGhlcml0YWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBoZXJpdGFnZS5nZXRUZXh0KHBhcnNlZFNvdXJjZSkuc3BsaXQoJyAnKVswXVxuICAgICAgICByZXR1cm4gKGhlcml0YWdlLnR5cGVzID8/IFtdKS5tYXAoKHQpID0+ICh7IHR5cGUsIG5hbWU6IHQuZXhwcmVzc2lvbi5lc2NhcGVkVGV4dCB9KSlcbiAgICAgIH0pXG4gICAgICAuZmxhdCgpIGFzIHsgdHlwZTogJ2ltcGxlbWVudHMnIHwgJ2V4dGVuZHMnOyBuYW1lOiBzdHJpbmcgfVtdXG4gICAgaWYgKGV4dGVuZEltcGxlbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gW11cblxuICAgIGNvbnN0IGZpbGVJbXBvcnRzID0gcGFyc2VkU291cmNlLnN0YXRlbWVudHNcbiAgICAgIC5tYXAoKHN0YXRlbWVudCkgPT4gbmV3IFRzUGFyc2VySW1wb3J0KHsgc3RhdGVtZW50LCBpblByb2plY3RQYXRoIH0pLnBhcnNlKCkpXG4gICAgICAuZmxhdCgpXG5cbiAgICByZXR1cm4gZXh0ZW5kSW1wbGVtZW50c1xuICAgICAgLm1hcCgoZWkpID0+IHtcbiAgICAgICAgY29uc3QgZmlsZUltcG9ydCA9IGZpbGVJbXBvcnRzLmZpbmQoKGZpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZpLm5hbWUgPT09IGVpLm5hbWVcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKCFmaWxlSW1wb3J0KSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oYEltcG9ydCBub3QgZm91bmQgZm9yICR7SlNPTi5zdHJpbmdpZnkoZWkpfWApXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2Uoe1xuICAgICAgICAgIG5hbWU6IGVpLm5hbWUsXG4gICAgICAgICAgdHlwZTogZWkudHlwZSA9PT0gJ2ltcGxlbWVudHMnID8gUmVmZXJlbmNlVHlwZS5JTVBMRU1FTlRBVElPTiA6IFJlZmVyZW5jZVR5cGUuSU5IRVJJVEFOQ0UsXG4gICAgICAgICAgaW5Qcm9qZWN0UGF0aDogZmlsZUltcG9ydC5pblByb2plY3RQYXRoLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbikgYXMgUmVmZXJlbmNlW11cbiAgfSxcbn1cblxuZXhwb3J0IGNvbnN0IHRzUGFyc2VyU2VydmljZSA9IHNlbGZcbiJdfQ==