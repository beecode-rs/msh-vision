"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PumlPrintableType = void 0;
const puml_entity_1 = require("src/service/print-puml/puml-entity");
const puml_relation_1 = require("src/service/print-puml/puml-relation");
class PumlPrintableType extends puml_entity_1.PumlEntity {
    _entity;
    _templateEnd() {
        return ']';
    }
    _templateStart() {
        return `card ${this._entity.Id} [`;
    }
    constructor(params) {
        const { entity } = params;
        super();
        this._entity = entity;
        this._relations = entity.References.map((r) => new puml_relation_1.PumlRelation({ reference: r, fromEntity: entity }));
    }
    _print() {
        return [this._entity.Name, '---', this._wrapWithDoubleQuotesIfItStartsWithSingleQuote(this._entity.Meta.ReturnType)];
    }
    _wrapWithDoubleQuotesIfItStartsWithSingleQuote(text) {
        if (text.trim()[0] === "'")
            return `"${text}"`;
        return text;
    }
}
exports.PumlPrintableType = PumlPrintableType;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVtbC1wcmludGFibGUtdHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ByaW50LXB1bWwvcHJpbnRhYmxlLWVudGl0eS9wdW1sLXByaW50YWJsZS10eXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFFbkUsTUFBYSxpQkFBa0IsU0FBUSx3QkFBVTtJQUM1QixPQUFPLENBQTBCO0lBRTFDLFlBQVk7UUFDcEIsT0FBTyxHQUFHLENBQUE7SUFDWixDQUFDO0lBQ1MsY0FBYztRQUN0QixPQUFPLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQTtJQUNwQyxDQUFDO0lBRUQsWUFBbUIsTUFBNEM7UUFDN0QsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQTtRQUN6QixLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFBO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksNEJBQVksQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQTtJQUN4RyxDQUFDO0lBRVMsTUFBTTtRQUNkLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLDhDQUE4QyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUE7SUFDdEgsQ0FBQztJQUVTLDhDQUE4QyxDQUFDLElBQVk7UUFDbkUsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRztZQUFFLE9BQU8sSUFBSSxJQUFJLEdBQUcsQ0FBQTtRQUM5QyxPQUFPLElBQUksQ0FBQTtJQUNiLENBQUM7Q0FDRjtBQXpCRCw4Q0F5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnRpdHlUeXBlcyB9IGZyb20gJ3NyYy9lbnVtL2VudGl0eS10eXBlcydcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJ3NyYy9tb2RlbC9lbnRpdHknXG5pbXBvcnQgeyBQdW1sRW50aXR5IH0gZnJvbSAnc3JjL3NlcnZpY2UvcHJpbnQtcHVtbC9wdW1sLWVudGl0eSdcbmltcG9ydCB7IFB1bWxSZWxhdGlvbiB9IGZyb20gJ3NyYy9zZXJ2aWNlL3ByaW50LXB1bWwvcHVtbC1yZWxhdGlvbidcblxuZXhwb3J0IGNsYXNzIFB1bWxQcmludGFibGVUeXBlIGV4dGVuZHMgUHVtbEVudGl0eSB7XG4gIHByb3RlY3RlZCByZWFkb25seSBfZW50aXR5OiBFbnRpdHk8RW50aXR5VHlwZXMuVFlQRT5cblxuICBwcm90ZWN0ZWQgX3RlbXBsYXRlRW5kKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICddJ1xuICB9XG4gIHByb3RlY3RlZCBfdGVtcGxhdGVTdGFydCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgY2FyZCAke3RoaXMuX2VudGl0eS5JZH0gW2BcbiAgfVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwYXJhbXM6IHsgZW50aXR5OiBFbnRpdHk8RW50aXR5VHlwZXMuVFlQRT4gfSkge1xuICAgIGNvbnN0IHsgZW50aXR5IH0gPSBwYXJhbXNcbiAgICBzdXBlcigpXG4gICAgdGhpcy5fZW50aXR5ID0gZW50aXR5XG4gICAgdGhpcy5fcmVsYXRpb25zID0gZW50aXR5LlJlZmVyZW5jZXMubWFwKChyKSA9PiBuZXcgUHVtbFJlbGF0aW9uKHsgcmVmZXJlbmNlOiByLCBmcm9tRW50aXR5OiBlbnRpdHkgfSkpXG4gIH1cblxuICBwcm90ZWN0ZWQgX3ByaW50KCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gW3RoaXMuX2VudGl0eS5OYW1lLCAnLS0tJywgdGhpcy5fd3JhcFdpdGhEb3VibGVRdW90ZXNJZkl0U3RhcnRzV2l0aFNpbmdsZVF1b3RlKHRoaXMuX2VudGl0eS5NZXRhLlJldHVyblR5cGUpXVxuICB9XG5cbiAgcHJvdGVjdGVkIF93cmFwV2l0aERvdWJsZVF1b3Rlc0lmSXRTdGFydHNXaXRoU2luZ2xlUXVvdGUodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAodGV4dC50cmltKClbMF0gPT09IFwiJ1wiKSByZXR1cm4gYFwiJHt0ZXh0fVwiYFxuICAgIHJldHVybiB0ZXh0XG4gIH1cbn1cbiJdfQ==