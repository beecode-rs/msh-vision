"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PumlPrintableType = void 0;
const puml_entity_1 = require("src/service/print-puml/puml-entity");
const puml_relation_1 = require("src/service/print-puml/puml-relation");
class PumlPrintableType extends puml_entity_1.PumlEntity {
    _entity;
    _templateEnd() {
        return ']';
    }
    _templateStart() {
        return `card ${this._entity.Id} [`;
    }
    constructor(params) {
        const { entity } = params;
        super();
        this._entity = entity;
        this._relations = entity.References.map((r) => new puml_relation_1.PumlRelation({ reference: r, fromEntity: entity }));
    }
    _print() {
        return [this._entity.Name, '---', this._wrapWithDoubleQuotesIfItStartsWithSingleQuote(this._entity.Meta.ReturnType)];
    }
    _wrapWithDoubleQuotesIfItStartsWithSingleQuote(text) {
        if (text.trim()[0] === "'")
            return `"${text}"`;
        return text;
    }
}
exports.PumlPrintableType = PumlPrintableType;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVtbC1wcmludGFibGUtdHlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zZXJ2aWNlL3ByaW50LXB1bWwvcHJpbnRhYmxlLWVudGl0eS9wdW1sLXByaW50YWJsZS10eXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLG9FQUErRDtBQUMvRCx3RUFBbUU7QUFFbkUsTUFBYSxpQkFBa0IsU0FBUSx3QkFBVTtJQUM1QixPQUFPLENBQTBCO0lBRTFDLFlBQVk7UUFDcEIsT0FBTyxHQUFHLENBQUE7SUFDWixDQUFDO0lBQ1MsY0FBYztRQUN0QixPQUFPLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQTtJQUNwQyxDQUFDO0lBRUQsWUFBWSxNQUE0QztRQUN0RCxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsTUFBTSxDQUFBO1FBQ3pCLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUE7UUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSw0QkFBWSxDQUFDLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFBO0lBQ3hHLENBQUM7SUFFUyxNQUFNO1FBQ2QsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsOENBQThDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQTtJQUN0SCxDQUFDO0lBRVMsOENBQThDLENBQUMsSUFBWTtRQUNuRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHO1lBQUUsT0FBTyxJQUFJLElBQUksR0FBRyxDQUFBO1FBQzlDLE9BQU8sSUFBSSxDQUFBO0lBQ2IsQ0FBQztDQUNGO0FBekJELDhDQXlCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVudGl0eVR5cGVzIH0gZnJvbSAnc3JjL2VudW0vZW50aXR5LXR5cGVzJ1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSAnc3JjL21vZGVsL2VudGl0eSdcbmltcG9ydCB7IFB1bWxFbnRpdHkgfSBmcm9tICdzcmMvc2VydmljZS9wcmludC1wdW1sL3B1bWwtZW50aXR5J1xuaW1wb3J0IHsgUHVtbFJlbGF0aW9uIH0gZnJvbSAnc3JjL3NlcnZpY2UvcHJpbnQtcHVtbC9wdW1sLXJlbGF0aW9uJ1xuXG5leHBvcnQgY2xhc3MgUHVtbFByaW50YWJsZVR5cGUgZXh0ZW5kcyBQdW1sRW50aXR5IHtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IF9lbnRpdHk6IEVudGl0eTxFbnRpdHlUeXBlcy5UWVBFPlxuXG4gIHByb3RlY3RlZCBfdGVtcGxhdGVFbmQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ10nXG4gIH1cbiAgcHJvdGVjdGVkIF90ZW1wbGF0ZVN0YXJ0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBjYXJkICR7dGhpcy5fZW50aXR5LklkfSBbYFxuICB9XG5cbiAgY29uc3RydWN0b3IocGFyYW1zOiB7IGVudGl0eTogRW50aXR5PEVudGl0eVR5cGVzLlRZUEU+IH0pIHtcbiAgICBjb25zdCB7IGVudGl0eSB9ID0gcGFyYW1zXG4gICAgc3VwZXIoKVxuICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eVxuICAgIHRoaXMuX3JlbGF0aW9ucyA9IGVudGl0eS5SZWZlcmVuY2VzLm1hcCgocikgPT4gbmV3IFB1bWxSZWxhdGlvbih7IHJlZmVyZW5jZTogciwgZnJvbUVudGl0eTogZW50aXR5IH0pKVxuICB9XG5cbiAgcHJvdGVjdGVkIF9wcmludCgpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIFt0aGlzLl9lbnRpdHkuTmFtZSwgJy0tLScsIHRoaXMuX3dyYXBXaXRoRG91YmxlUXVvdGVzSWZJdFN0YXJ0c1dpdGhTaW5nbGVRdW90ZSh0aGlzLl9lbnRpdHkuTWV0YS5SZXR1cm5UeXBlKV1cbiAgfVxuXG4gIHByb3RlY3RlZCBfd3JhcFdpdGhEb3VibGVRdW90ZXNJZkl0U3RhcnRzV2l0aFNpbmdsZVF1b3RlKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHRleHQudHJpbSgpWzBdID09PSBcIidcIikgcmV0dXJuIGBcIiR7dGV4dH1cImBcbiAgICByZXR1cm4gdGV4dFxuICB9XG59XG4iXX0=